../bin/logstash -f test.conf

配置文件：config/logstash.yml
9600-9900表示300个端口可用

docker-compose.yml
version: '2'
services:
  logstash:
    restart: always
    tty: true
    labels:
      io.rancher.container.hostname_override: container_name
    command:
    - logstash
    - -e
    - ${conf}
    image:nexus.registry:5000/logstash:5.2.0
    
最后生成的command命令：注意不能有\t制表符，没有''把-e后面的内容包起来

启动慢解决办法：
安装haveged（root账号）：
1.tar xzvf /path/to/haveged-x.x.tar.gz
2.cd /path/to/haveged-x.x
3.sh configure
4.make install
启动：/usr/local/sbin/haveged -w 1024

cat /proc/sys/kernel/random/entropy_avail

